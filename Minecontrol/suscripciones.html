<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MineControl | Suscripciones </title>
    
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/AC.ico">     
    <!-- MORRIS CHART STYLES-->
    <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
    <!-- CUSTOM STYLES-->
    <link href="components/navbar/navbar.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/custom2.css" rel="stylesheet" />
    <!-- GOOGLE FONTS-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
    <!-- BOOTSTRAP STYLES-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
     <!-- FONTAWESOME STYLES-->
     <link href="assets/css/font-awesome.css" rel="stylesheet" />
     <style>
        .navbar-cls-top {
            width: 100%;
            position: relative;
            float: left;
        }
        .navbar-side {
            height: 120vh;
            position: relative;
            float: left;
        }
        #page-wrapper {
            width: calc(100% - 260px);
            position: relative;
            float: left;            
        }
    </style>
</head>
<body>
    <div id="wrapper">
        <nav class="navbar navbar-default navbar-cls-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                </button>
                <a class="navbar-brand" href="#"><i>MineControl ® </i></a>
                
            </div>
            <div style="color: white; padding: 15px 50px 5px 50px; float: right; font-size: 16px;">
                <i class="align-left">- ¿No te convence? Puedes pensarlo, ¡aquí te esperaremos! -</i>

                 <a href="index.html" class="btn btn-danger ">Regresar</a>

            </div>
        </nav>
        <nav class="navbar-default navbar-side" role="navigation"></nav>
        <div id="page-wrapper">
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                        <h2><b><i>¡Estas a unos pasos de tener tu mina segura!</i></b></h2>
                        <div class="text-center">
                            <h3>Elige el plan que mejor se adapte a tus necesidades</h3>
                        </div>
                        <div class="service-row">
                            <div class="service-box">
                                <i class="bi bi-star-fill service-icon"></i>
                                <h3>Plan mensual</h3> 
                                <p>Accede a todas las funcionalidades de nuestro software durante un mes. Ideal para una evaluación inicial o necesidades temporales en la gestión de tus minas en tiempo real. ¡Pruebalo y conocenos!</p>
                                <h4>Por solo: $400 MX </h4>
                                <div id="paypal-button-container-monthly"></div> <!-- Aquí se integrará el botón de PayPal -->
                            </div>
                            <div class="service-box">
                                <i class="bi bi-cogs service-icon"></i>
                                <h3>Plan semestral</h3>
                                <p>Opta por el plan semestral para una gestión más estable de tus minas, con un ahorro en comparación con el mensual. Perfecto para proyectos de mediana duración y para una supervisión continua.</p>
                                <h4>Por solo: $2200 MX</h4>
                                <div id="paypal-button-container-semester"></div> <!-- Aquí se integrará el botón de PayPal -->
                            </div>
                            <div class="service-box">
                                <i class="bi bi-diamond service-icon"></i>
                                <h3>Plan anual</h3>
                                <p>Elige el plan anual para una gestión completa de tus minas durante todo el año. Obtén el mejor valor y asegúrate una supervisión ininterrumpida con acceso total a todas las funciones del software.</p>
                                <h4>Por solo: $4000 MX</h4>
                                <div id="paypal-button-container-annual"></div> <!-- Aquí se integrará el botón de PayPal -->
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="col-md-6 col-sm-12 col-xs-12">
                       
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Este pudiera ser tu panel administrativo
                            </div>
                            <div class="panel-body">
                                <ul class="list-group">
                                    <li class="list-group-item">
                                        <span class="badge">!!!</span>
                                        ¡Obten acceso a gráficos que muestran el comportamiento de <br> los sensores en las minas!
                                    </li>
                                    <li class="list-group-item">
                                        <span class="badge">!!!</span>
                                        Información en tiempo real
                                    </li>
                                    <li class="list-group-item">
                                        <span class="badge">!!!</span>
                                        Actualiza tu mina con tecnología de IoT
                                    </li>
                                    <!-- Add more recent activities here -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- JS SCRIPTS-->
    <script src="assets/js/jquery-1.10.2.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.metisMenu.js"></script>
    <script src="assets/js/morris/raphael-2.1.0.min.js"></script>
    <script src="assets/js/morris/morris.js"></script>
    <script src="assets/js/custom2.js"></script>
    <script src="assets/js/updateLink.js"></script>
    <script src="assets/js/admin.js"></script>
    
    <!-- PayPal Buttons Integration -->
    <script src="https://www.paypal.com/sdk/js?client-id=ASSphX2uduyfMRJLzvh76VXg-iOb7Sjd11zFhJJKVslxLJiH-Zq-zQN9dACdfW-EvM6ix5bX282boVPZ&currency=MXN"></script>
    <script>
        const userId = localStorage.getItem('userId');
        console.log('Stored User ID:', userId);

        function setupPaypalButtons() {
            // Botón para el plan mensual
            paypal.Buttons({
                style: {
                    color: 'blue',
                    shape: 'pill',
                    label: 'pay'
                },
                createOrder: function (data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: '400' // El valor debe ser una cadena
                            }
                        }]
                    });
                },
                onApprove: function (data, actions) {
                    return actions.order.capture().then(function (details) {
                        window.location.href = 'index2.html?id=' + encodeURIComponent(userId); 
                    });
                },
                onCancel: function (data) {
                    alert("Pago cancelado");
                    console.log(data);
                }
            }).render('#paypal-button-container-monthly');

            // Botón para el plan semestral
            paypal.Buttons({
                style: {
                    color: 'blue',
                    shape: 'pill',
                    label: 'pay'
                },
                createOrder: function (data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: '2200' // El valor debe ser una cadena
                            }
                        }]
                    });
                },
                onApprove: function (data, actions) {
                    return actions.order.capture().then(function (details) {
                        window.location.href = 'index2.html?id=' + encodeURIComponent(userId); 
                    });
                },
                onCancel: function (data) {
                    alert("Pago cancelado");
                    console.log(data);
                }
            }).render('#paypal-button-container-semester');

            // Botón para el plan anual
            paypal.Buttons({
                style: {
                    color: 'blue',
                    shape: 'pill',
                    label: 'pay'
                },
                createOrder: function (data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: '4000' // El valor debe ser una cadena
                            }
                        }]
                    });
                },
                onApprove: function (data, actions) {
                    return actions.order.capture().then(function (details) {
                        window.location.href = 'index2.html?id=' + encodeURIComponent(userId); 
                    });
                },
                onCancel: function (data) {
                    alert("Pago cancelado");
                    console.log(data);
                }
            }).render('#paypal-button-container-annual');
        }

        // Configurar los botones de PayPal después de que el DOM esté completamente cargado
        document.addEventListener('DOMContentLoaded', function() {
            setupPaypalButtons();
        });
    </script>
</body>
</html>
